<!-- 모달 템플릿 포함 -->
{% include "modals/order_detail_modal.html" %}
{% include "modals/create_order_modal.html" %}
{% include "modals/delete_confirm_modal.html" %}
{% include "modals/status_change_modal.html" %}
{% include "modals/driver_assign_modal.html" %}
{% include "modals/bulk_delete_modal.html" %}

<!-- 공통 모달 컨테이너 (일반 알림 등에 사용) -->
<div class="modal" id="commonModal">
  <div class="modal-dialog" id="modalDialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">모달 제목</h2>
        <button type="button" class="close-btn" id="closeModalBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body" id="modalBody">
        <!-- 모달 내용이 동적으로 채워집니다 -->
        <div class="loading-spinner" id="modalSpinner">
          <div class="spinner-container">
            <div class="spinner"></div>
            <div class="spinner-text">로딩 중...</div>
          </div>
        </div>
      </div>
      <div class="modal-footer" id="modalFooter">
        <!-- 버튼들이 동적으로 추가됩니다 -->
      </div>
    </div>
  </div>
</div>

<script>
/**
 * 공통 모달 유틸리티 함수
 */
(function() {
  /**
   * 모달 표시 함수
   * @param {HTMLElement|string} modal - 모달 요소 또는 ID
   */
  function showModal(modal) {
    // ID 문자열인 경우 요소 가져오기
    if (typeof modal === 'string') {
      modal = document.getElementById(modal);
    }
    
    if (!modal) return;
    
    // 모달 표시
    modal.style.display = 'flex';
    document.body.classList.add('modal-open');
    
    // 애니메이션 효과
    setTimeout(function() {
      modal.classList.add('show');
    }, 10);
  }
  
  /**
   * 모달 숨김 함수
   * @param {HTMLElement|string} modal - 모달 요소 또는 ID
   */
  function hideModal(modal) {
    // ID 문자열인 경우 요소 가져오기
    if (typeof modal === 'string') {
      modal = document.getElementById(modal);
    }
    
    if (!modal) return;
    
    // 애니메이션 효과
    modal.classList.remove('show');
    
    // 약간의 지연 후 완전히 숨김
    setTimeout(function() {
      modal.style.display = 'none';
      document.body.classList.remove('modal-open');
    }, 300);
  }
  
  // 공용 함수 노출
  window.showModal = showModal;
  window.hideModal = hideModal;
})();
</script>
